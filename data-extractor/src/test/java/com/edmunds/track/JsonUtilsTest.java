package com.edmunds.track;

import com.edmunds.track.util.JsonUtils;
import org.testng.annotations.Test;

import static org.testng.Assert.assertNotNull;

/**
 * Created by ahaurylau on 29.09.2015.
 */
public class JsonUtilsTest {

    @Test
    public void testToVehicle() throws Exception {
        String json = "{\"make\":{\"id\":200000238,\"name\":\"Volkswagen\",\"niceName\":\"volkswagen\"},\"model\":{\"id\":\"Volkswagen_Jetta\",\"name\":\"Jetta\",\"niceName\":\"jetta\"},\"engine\":{\"id\":\"401575145\",\"name\":\"1.4l\",\"equipmentType\":\"ENGINE\",\"compressionRatio\":10.0,\"cylinder\":4,\"size\":1.4,\"displacement\":1395.0,\"configuration\":\"inline\",\"fuelType\":\"regular unleaded\",\"horsepower\":150,\"torque\":184,\"totalValves\":16,\"type\":\"gas\",\"code\":\"4ITCG1.4\",\"compressorType\":\"turbocharger\",\"rpm\":{\"horsepower\":5000,\"torque\":1400},\"valve\":{\"timing\":\"variable valve timing\",\"gear\":\"double overhead camshaft\"}},\"transmission\":{\"id\":\"401575149\",\"name\":\"6A\",\"equipmentType\":\"TRANSMISSION\",\"automaticType\":\"Shiftable automatic\",\"transmissionType\":\"AUTOMATIC\",\"numberOfSpeeds\":\"6\"},\"drivenWheels\":\"front wheel drive\",\"numOfDoors\":\"4\",\"options\":[{\"category\":\"Interior\",\"options\":[{\"id\":\"401575178\",\"name\":\"Roadside Assistance Kit\",\"description\":\"Roadside assistance kit includes booster cables, warning triangle, LED flashlight, multi-tool, work gloves, PVC tape, blanket, poncho, whistle, cable ties, blanket and assorted bandages\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":85.0,\"baseInvoice\":65.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Roadside Assistance Kit\",\"manufactureOptionCode\":\"ARK\"},{\"id\":\"401575181\",\"name\":\"Jetta Rubber Mat Kit\",\"description\":\"Set of 4 Monster Mats; Heavy duty trunk liner with CarGo Blocks\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":235.0,\"baseInvoice\":185.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Jetta Rubber Mat Kit\",\"manufactureOptionCode\":\"JKM\"},{\"id\":\"401575180\",\"name\":\"First Aid Kit\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":35.0,\"baseInvoice\":25.0,\"estimateTmv\":false},\"manufactureOptionName\":\"First Aid Kit\",\"manufactureOptionCode\":\"AID\"},{\"id\":\"401575187\",\"name\":\"Door Sills\",\"description\":\"Set of 4 stainless steel door sills\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":240.0,\"baseInvoice\":200.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Door Sills\",\"manufactureOptionCode\":\"JDS\"},{\"id\":\"401575182\",\"name\":\"Luggage Net\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":100.0,\"baseInvoice\":80.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Luggage Net\",\"manufactureOptionCode\":\"JLN\"},{\"id\":\"401575179\",\"name\":\"Jetta Carpet Mat Kit\",\"description\":\"Set of 4 Mojo Mats; Heavy duty trunk liner with CarGo Blocks\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":235.0,\"baseInvoice\":185.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Jetta Carpet Mat Kit\",\"manufactureOptionCode\":\"JKT\"}]},{\"category\":\"Exterior\",\"options\":[{\"id\":\"401575189\",\"name\":\"Splash Guards\",\"description\":\"Set of 4 wheel splash guards\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":220.0,\"baseInvoice\":170.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Splash Guards\",\"manufactureOptionCode\":\"JSP\"},{\"id\":\"401575188\",\"name\":\"Lip Spoiler\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":375.0,\"baseInvoice\":300.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Lip Spoiler\",\"manufactureOptionCode\":\"JSL\"},{\"id\":\"401575191\",\"name\":\"18\\\" Durban Silver Alloy Wheels\",\"description\":\"18\\\" x 7.5\\\" Durban silver alloy wheels with 225/40R18 all-season tires\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":1295.0,\"baseInvoice\":900.0,\"estimateTmv\":false},\"manufactureOptionName\":\"18\\\" Durban Silver Alloy Wheels\",\"manufactureOptionCode\":\"JDW\"},{\"id\":\"401575183\",\"name\":\"Wheel Locks\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":80.0,\"baseInvoice\":60.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Wheel Locks\",\"manufactureOptionCode\":\"AWL\"},{\"id\":\"401575184\",\"name\":\"Chrome Exhaust Tips\",\"equipmentType\":\"OPTION\",\"price\":{\"baseMSRP\":130.0,\"baseInvoice\":100.0,\"estimateTmv\":false},\"manufactureOptionName\":\"Chrome Exhaust Tips\",\"manufactureOptionCode\":\"JCE\"}]}],\"colors\":[{\"category\":\"Interior\",\"options\":[{\"id\":\"401575170\",\"name\":\"Titan Black\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Titan Black\",\"manufactureOptionCode\":\"JM\",\"colorChips\":{\"primary\":{\"r\":0,\"g\":0,\"b\":0,\"hex\":\"000000\"}},\"fabricTypes\":[{\"name\":\"FABRIC_TYPE_1\",\"value\":\"cloth\"}]}]},{\"category\":\"Exterior\",\"options\":[{\"id\":\"401575163\",\"name\":\"Pure White\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Pure White\",\"manufactureOptionCode\":\"0Q0Q\",\"colorChips\":{\"primary\":{\"r\":255,\"g\":255,\"b\":255,\"hex\":\"FFFFFF\"}}},{\"id\":\"401575164\",\"name\":\"Silk Blue Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Silk Blue Metallic\",\"manufactureOptionCode\":\"2B2B\",\"colorChips\":{\"primary\":{\"r\":32,\"g\":98,\"b\":137,\"hex\":\"206289\"}}},{\"id\":\"401575159\",\"name\":\"Toffee Brown Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Toffee Brown Metallic\",\"manufactureOptionCode\":\"4Q4Q\",\"colorChips\":{\"primary\":{\"r\":124,\"g\":107,\"b\":98,\"hex\":\"7C6B62\"}}},{\"id\":\"401575161\",\"name\":\"Reflex Silver Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Reflex Silver Metallic\",\"manufactureOptionCode\":\"8E8E\",\"colorChips\":{\"primary\":{\"r\":216,\"g\":216,\"b\":216,\"hex\":\"D8D8D8\"}}},{\"id\":\"401575168\",\"name\":\"Dark Bronze Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Dark Bronze Metallic\",\"manufactureOptionCode\":\"2J2J\",\"colorChips\":{\"primary\":{\"r\":58,\"g\":44,\"b\":31,\"hex\":\"3A2C1F\"}}},{\"id\":\"401575169\",\"name\":\"Cardinal Red Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Cardinal Red Metallic\",\"manufactureOptionCode\":\"7H7H\",\"colorChips\":{\"primary\":{\"r\":148,\"g\":39,\"b\":62,\"hex\":\"94273E\"}}},{\"id\":\"401575162\",\"name\":\"Moonrock Silver Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Moonrock Silver Metallic\",\"manufactureOptionCode\":\"0B0B\",\"colorChips\":{\"primary\":{\"r\":212,\"g\":204,\"b\":199,\"hex\":\"D4CCC7\"}}},{\"id\":\"401575157\",\"name\":\"Black Uni\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Black Uni\",\"manufactureOptionCode\":\"A1A1\",\"colorChips\":{\"primary\":{\"r\":0,\"g\":0,\"b\":0,\"hex\":\"000000\"}}},{\"id\":\"401575160\",\"name\":\"Platinum Gray Metallic\",\"equipmentType\":\"COLOR\",\"manufactureOptionName\":\"Platinum Gray Metallic\",\"manufactureOptionCode\":\"2R2R\",\"colorChips\":{\"primary\":{\"r\":116,\"g\":122,\"b\":118,\"hex\":\"747A76\"}}}]}],\"manufacturerCode\":\"1632F6\",\"price\":{\"baseMSRP\":19775.0,\"baseInvoice\":18984.0,\"deliveryCharges\":820.0,\"estimateTmv\":false},\"categories\":{\"market\":\"N/A\",\"EPAClass\":\"Compact Cars\",\"vehicleSize\":\"Midsize\",\"primaryBodyType\":\"Car\",\"vehicleStyle\":\"Sedan\",\"vehicleType\":\"Car\"},\"id\":401575138,\"name\":\"1.4T S w/Technology 4dr Sedan (1.4L 4cyl Turbo 6A)\",\"year\":{\"id\":401575136,\"year\":2016},\"submodel\":{\"body\":\"Sedan\",\"modelName\":\"Jetta Sedan\",\"niceName\":\"sedan\"},\"trim\":\"1.4T S w/Technology\",\"states\":[\"NEW\"],\"squishVins\":[\"3VW267AJGM\"],\"MPG\":{\"highway\":\"39\",\"city\":\"28\"}}";
        Vehicle vehicle = JsonUtils.toVehicle(json);
        assertNotNull(vehicle);
        assertNotNull(vehicle.getBody());
        assertNotNull(vehicle.getEngineType());
        assertNotNull(vehicle.getHorsepower());
        assertNotNull(vehicle.getMakeName());
        assertNotNull(vehicle.getMpgCity());
        assertNotNull(vehicle.getMpgHighway());
        assertNotNull(vehicle.getTransmissionType());
        assertNotNull(vehicle.getNumericParamValue(VehicleParam.HORSEPOWER));
        assertNotNull(vehicle.getStringParamValue(VehicleParam.ENGINE_TYPE));
    }
}